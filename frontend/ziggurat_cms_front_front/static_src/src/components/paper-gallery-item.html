<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<dom-module id="paper-gallery-item">
    <template>
        <style>

            :host {
                display: block;
            }

            iron-image {
                width: 100%;
                --iron-image-width: 100%;
                height: 600px;
                --iron-image-height: 100%;
            }

            .caption {
                text-align: center;
            }

        </style>

        <iron-image style="background-color: white;"
                    fade preload
                    sizing="contain"
                    placeholder="[[placeholder]]"
                    src="[[dynamicSrc(shown)]]"></iron-image>
        <div class="caption">
            <p class="title">[[title]]</p>
            <p class="description">[[description]]</p>
        </div>

    </template>
    <script>
        class PaperGalleryItem extends Polymer.GestureEventListeners(Polymer.Element) {
            static get is() {
                return "paper-gallery-item";
            }

            static get properties() {
                return {
                    title: String,
                    description: String,
                    src: String,
                    ironSelected: {
                        type: Boolean,
                        observer: 'observeIronSelected'
                    },
                    shown: {
                        type: Boolean,
                        value: function () {
                            return false
                        }
                    }

                }
            }

            observeIronSelected(name, type) {
                this.shown = true;
            }

            dynamicSrc() {
                if (this.shown) {
                    return this.src;
                }
            }
        }

        customElements.define(PaperGalleryItem.is, PaperGalleryItem);

    </script>
</dom-module>
